{"version":3,"sources":["webpack:///static/js/app.87629cf4cf8a066fe7f0.js","webpack:///./src/main.js","webpack:///./src/App.vue","webpack:///./src/components/Sheet.vue","webpack:///./src/firebase-config.js","webpack:///./src/firebase-db.js","webpack:///./src/App.vue?35a7","webpack:///./src/components/Sheet.vue?8109","webpack:///./src/App.vue?ab8c","webpack:///./src/components/Sheet.vue?0a40"],"names":["webpackJsonp","120","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","n","config","productionTip","el","template","components","App","a","121","map_range","low1","high1","low2","high2","__WEBPACK_IMPORTED_MODULE_0_mapbox_gl_vue__","__WEBPACK_IMPORTED_MODULE_1__components_Sheet__","__WEBPACK_IMPORTED_MODULE_1__components_Sheet___default","geodist","_","db","dataRef","ref","name","Mapbox","Sheet","data","fake","dataReady","mapReady","map","sparklingTrailLayer","sparklingTrail","currentSelected","sparklingSwitchVisible","randomNum","moveCircleActive","circle","x","y","o","r","off","watch","console","log","this","loadData","mounted","self","once","then","snapshot","String","val","length","i","push","methods","resizedSheet","window","dispatchEvent","Event","toggleSparklingSwitch","e","this$1","f","properties","trails","includes","id","unshift","setFilter","getRandomNum","Math","floor","random","mapResized","mapClicked","easeBearing","getBearing","flytoZoom","getZoom","mapMouseMoved","isSourceLoaded","const","features","queryRenderedFeatures","point","layers","getCanvas","style","cursor","mapMoveStart","mapMoveEnd","nearest","moveCircle","zoomCircle","mapMoving","mapLoaded","dataLoading","addSource","type","addLayer","source","filter","layout","text-line-height","text-size","base","stops","text-allow-overlap","text-font","text-justify","visibility","text-offset","text-anchor","text-field","text-max-width","paint","text-color","icon-size","icon-image","icon-allow-overlap","icon-opacity","$refs","$el","mapZooming","uniqBy","centerLat","getCenter","lat","centerLng","lng","dist","newDist","geometry","coordinates","format","unit","nearest_screen_coordinates","project","nx","parseInt","ny","122","valBetween","v","min","max","__WEBPACK_IMPORTED_MODULE_1_vue2_touch__","dynamics","use","props","created","windowWidth","innerWidth","document","documentElement","clientWidth","body","maxSheetWidth","minSheetWidth","dim","w","pan","callback","original_width","resizing","resize","distance","velocityX","maxSheetResize","animate","fullwidth","offsetWidth","spring","duration","abs","frequency","friction","complete","deltaX","$emit","panDirection","123","exports","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","124","d","Firebase","fb","initializeApp","database","306","307","322","Component","323","324","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_l","winery","key","index","_v","_s","region","desc","where","tel","open","target","href","website","_e","class","active","xs12","md12","staticStyle","border-radius","padding-top","label","primary","light","nativeOn","click","$event","model","$$v","expression","startingWidth","on","resized","access-token","map-options","maxBounds","center","zoom","hash","navControl","show","geolocate-control","position","map-resize","map-movestart","map-move","map-click","map-mousemove","map-load","map-zoom","map-moveend","map-dataloading","inactive","transform","width","height","staticRenderFns","325","elevation-20","minWidth","directives","rawName","arg","panleft","_t","330"],"mappings":"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","file":"static/js/app.87629cf4cf8a066fe7f0.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 120:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(118);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(322);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n// import store from './store'\n// import Vuex from 'vuex';\n// require('babel-polyfill')\n// Vue.use(Vuex)\n\n// import VueFire from 'vuefire'\n// Vue.use(VueFire) \n\n// export const store = new Vuex.Store({\n//   state: {\n//     winerySelected: [],\n//   },\n//   getters: {\n//     getWinerySelected: function(state){\n//       return state.winerySelected\n//     }\n//   },\n//   mutations: {\n//     addSelectedWinery: function(state, winery){\n//       state.winerySelected.push(winery)\n//     } \n//   }\n// })\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  // store: store,\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a }\n})\n\n/***/ }),\n\n/***/ 121:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_mapbox_gl_vue__ = __webpack_require__(317);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_Sheet__ = __webpack_require__(323);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_Sheet___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_Sheet__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n// import { mapMutations, mapGetters } from 'vuex'\n// import Vuetify from 'vuetify'\n// Vue.use(Vuetify)\n\nvar dynamics = __webpack_require__(114)\n\nvar geodist = __webpack_require__(314)\nvar _=__webpack_require__(316)\n// require('./stylus/main.styl')\n\nvar db = __webpack_require__(124)\nvar dataRef = db.db.ref('data')\n\n\nfunction map_range(value, low1, high1, low2, high2) {\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}\n\nfunction onlyUnique(value, index, self) { \n    return self.indexOf(value) === index;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app',\n  // firebase: {\n  //   // data: dataRef // this is done manually below due to VueFire not returning native arrays?\n  // },\n  components: {\n    Mapbox: __WEBPACK_IMPORTED_MODULE_0_mapbox_gl_vue__[\"a\" /* default */],\n    Sheet: __WEBPACK_IMPORTED_MODULE_1__components_Sheet___default.a\n  },\n  data: function data () {\n    return {\n      fake: false,\n      dataReady: false,\n      mapReady: false,\n      data: [],\n      map: null,\n      sparklingTrailLayer: null,\n      sparklingTrail: false,\n      // filters: {\n      //   sparkling: [\"in\", \"name\", \"Bird in Hand\", \"Deviation Road\", \"Golding\", \"Howard\", \"Longview\", \"Petaluma\", \"O'leary Walker\", \"Mt Lofty Range\", \"Sidewood\", \"Tapanappa\", \"The Lane\"],\n      // },\n      currentSelected: [],\n      sparklingSwitchVisible: false,\n      randomNum: 2,\n      moveCircleActive: true,\n      circle:{\n        x: 0,\n        y: 0,\n        o: 0,\n        r: 50,\n        off: true\n      }\n    }\n  },\n  watch: {\n      dataReady: function (dataReady) {\n        console.log('dataReady?', dataReady)\n        if(dataReady && this.mapReady){\n          this.loadData()\n\n        }\n      },\n      mapReady: function (mapReady) {\n        console.log('mapReady?', mapReady)\n        if(this.dataReady && mapReady){\n          this.loadData()\n        }\n      }\n    },mounted: function mounted(){\n    var self = this\n    console.log('Fetching Firebase data...')\n    dataRef.once('value').then(function(snapshot) {\n      console.log(String(snapshot.val().length), \"wineries successfully downloaded from firebase\" )\n      var data = []\n      for (var i = snapshot.val().length - 1; i >= 0; i--) {\n        self.data.push(snapshot.val()[i])\n        data.push(snapshot.val()[i])\n      }\n      return data\n    }).then(function(data){\n        self.dataReady = true\n        // self.loadData(data)\n        // self.moveCircle()\n    })\n  },\n  \n  methods:{\n    \n    // ...mapMutations([\n    //   'addSelectedWinery'\n    //   ]),\n    resizedSheet: function(){\n      // triggers the map.resize() event of mapbox, because we can't (?) select the DOM map element, unless using #ref=\"blah\"?\n      window.dispatchEvent(new Event('resize'));\n    },\n\n    toggleSparklingSwitch: function toggleSparklingSwitch(e){\n      var this$1 = this;\n\n      var f = []\n      for (var i = this.data.length - 1; i >= 0; i--) {\n        if (this$1.data[i].properties.trails.includes(\"sparkling\")){\n          f.push(this$1.data[i].properties.id)\n        }\n      }\n      //prepend the first two filter commands to array\n      f.unshift(\"in\", \"id\")\n\n      this.sparklingSwitchVisible = true//!this.sparklingSwitchVisible\n      this.circle.o = 0;\n      if (this.sparklingTrail){\n        this.map.setFilter('wineries', f)\n        this.map.setFilter('triangles', f)\n      } else{\n        this.map.setFilter('wineries', null);\n        this.map.setFilter('triangles', null);  \n      }\n    },\n    getRandomNum: function getRandomNum(){\n      var r = Math.floor(Math.random()*(140-7+1)+7);\n      this.randomNum = r\n      return r\n    },\n    mapResized: function mapResized(){\n      // console.log('resized')\n    },\n\n\n    mapClicked: function mapClicked(map, e) {\n          console.log(e)\n          // const features = map.queryRenderedFeatures(e.point, {\n          //     layers: ['triangles', 'wineries']\n          // });        \n          // var self = this\n          // if (features[0]){\n          //  map.flyTo({\n          //   center: features[0].geometry.coordinates,\n          //   zoom: self.flytoZoom(self.map),\n          //   bearing: self.easeBearing(map),\n          // });\n\n          // this.randomNum = this.getRandomNum()\n        }\n      \n\n    },\n\n    easeBearing: function easeBearing(map){\n      if(map.getBearing() > 0){\n        return -5\n      } else {\n        return 5\n      }\n    },\n\n    flytoZoom: function flytoZoom(map){\n      // var z =[-0.5, 0.5]\n      return this.map.getZoom() + 0.5 // z[Math.floor(Math.random()*z.length)];\n\n    },\n    mapMouseMoved: function mapMouseMoved(map, e) {\n      if(map.isSourceLoaded('winery-label')){\n        var features = map.queryRenderedFeatures(e.point, {\n            layers: ['wineries', 'triangles']\n        });\n        map.getCanvas().style.cursor = (features.length) ? 'pointer' : '';\n      }\n    },\n\n    mapMoveStart: function mapMoveStart(e, map){\n      this.circle.o = 0;\n      this.sparklingSwitchVisible = false\n    },\n\n    mapMoveEnd: function mapMoveEnd(e){\n      this.circle.o = 1;\n      var self = this;\n      // setTimeout(function() {this.moveCircle(self.e)}, 500);\n      // console.log(this.currentSelected)\n      this.moveCircleActive = false;\n      this.currentSelected = this.nearest\n      // console.log(this.currentSelected)\n      this.randomNum = this.getRandomNum()\n\n      this.moveCircle(e)\n      this.zoomCircle(e)\n    },\n\n    mapMoving: function mapMoving(e){\n        this.moveCircle(e, map)  \n      if(this.moveCircleActive){\n      }\n      // console.log('moving')\n      \n    },\n    mapLoaded: function mapLoaded(e){\n      this.map = e\n      this.mapReady = true\n      var self = this\n      // var r = []\n      // console.log(this.data)     \n    },\n\n    dataLoading: function dataLoading(e){\n      // console.log('loading data')\n    },\n\n    loadData: function loadData(){\n      console.log('loading data...')\n\n      this.map.addSource('winery-label', {\n          'type': 'geojson',\n          'data': {\n            'type': 'FeatureCollection',\n            'features': this.data\n          }\n      })\n\n      this.map.addLayer({\n        \"id\": \"wineries\",\n        \"type\": \"symbol\",\n        \"source\": \"winery-label\",\n        \"filter\": [\n            \"==\",\n            \"$type\",\n            \"Point\"\n        ],\n        \"layout\": {\n            \"text-line-height\": 1,\n            \"text-size\": {\n                \"base\": 1.3,\n                \"stops\": [\n                    [\n                        4,\n                        6\n                    ],\n                    [\n                        14,\n                        23\n                    ]\n                ]\n            },\n            \"text-allow-overlap\": true,\n            \"text-font\": [\n                \"Roboto Medium\",\n                \"Arial Unicode MS Regular\"\n            ],\n            \"text-justify\": \"left\",\n            \"visibility\": \"visible\",\n            \"text-offset\": [\n                1,\n                0.1\n            ],\n            \"text-anchor\": \"left\",\n            \"text-field\": \"{label}\",\n            \"text-max-width\": 15\n        },\n        \"paint\": {\n            \"text-color\": \"#65132C\"\n        }\n      })\n\n      this.map.addLayer({\n        \"id\": \"triangles\",\n        \"type\": \"symbol\",\n        \"source\": \"winery-label\",\n        \"filter\": [\n            \"==\",\n            \"$type\",\n            \"Point\"\n        ],\n        \"layout\": {\n            \"text-size\": {\n                \"base\": 1,\n                \"stops\": [\n                    [\n                        8,\n                        14\n                    ],\n                    [\n                        14,\n                        15\n                    ]\n                ]\n            },\n            \"text-font\": [\n                \"Knockout 29 Junior Liteweight\"\n            ],\n            \"visibility\": \"visible\",\n            \"icon-size\": {\n                \"base\": 0.8,\n                \"stops\": [\n                    [\n                        8,\n                        0.1\n                    ],\n                    [\n                        15,\n                        1.1\n                    ]\n                ]\n            },\n            \"text-offset\": [\n                0,\n                -0.2\n            ],\n            \"icon-image\": \"triangle\",\n            \"icon-allow-overlap\": true\n        },\n        \"paint\": {\n            \"text-color\": \"hsl(0, 0%, 100%)\",\n            \"icon-opacity\": 0.7\n        }\n      })\n\n      console.log('data loaded')\n      this.zoomCircle(this.map)\n      this.moveCircle(this.map)\n      var elem = this.$refs.map.$el; // Element to fire on\n      \n\n      // var evt = new MouseEvent(\"click\", {\n      //   bubbles: true,\n      //   cancelable: true,\n      //   view: window\n      // });\n      // console.log(elem)\n      // elem.querySelector(\"canvas\").addEventListener('click', function(){\n      //   console.log('clicekd!')\n      // })\n\n      // elem.dispatchEvent(evt);\n      // elem.querySelector(\"canvas\").click({X:0, clientY:0}); // Fire event\n    },\n\n\n    zoomCircle: function(e){\n      if (this.map.getZoom() < 9){\n        this.circle.r = 0  \n      } else{\n        this.circle.r = map_range(this.map.getZoom(), 15, 9, 50, 15 )  \n      }\n    },\n    mapZooming: function mapZooming(e){\n      this.zoomCircle(e)\n      \n    },\n\n    moveCircle: function(e){\n      // var e = e ? e : this.map\n      if(e.isSourceLoaded('winery-label')){\n        console.log('source is loaded')\n        var features = e.queryRenderedFeatures({ layers: ['triangles']})\n        // console.log(features.length)\n        if(features.length > 0){\n          this.circle.off = false\n          var f = _.uniqBy(features, 'properties.id');\n          var nearest = null\n          var centerLat = e.getCenter().lat\n          var centerLng = e.getCenter().lng\n          var dist = 999999999999\n          for (var i = f.length - 1; i >= 0; i--) {\n              var newDist = geodist([centerLat, centerLng], [f[i].geometry.coordinates[1], f[i].geometry.coordinates[0]], {format: false, unit: 'meters'})\n              \n              if(!nearest){\n                nearest = f[i]\n              }\n              if( newDist < dist){\n                nearest = f[i]\n                dist = newDist\n              }\n          }\n          \n          var nearest_screen_coordinates = e.project([nearest.geometry.coordinates[0], nearest.geometry.coordinates[1]])\n\n        var nx = parseInt(nearest_screen_coordinates.x - this.circle.r*1.02)\n        var ny = parseInt(nearest_screen_coordinates.y - this.circle.r*1.02)\n\n        this.circle.x = nx\n        this.circle.y = ny\n        if(this.moveCircleActive){\n          console.log('moving circle')\n          this.circle.o = 1;  \n        }\n\n        if(nearest !== this.currentSelected){\n          this.nearest = nearest\n        }\n        } else{\n          // console.log(\"circle be gone\")\n          this.circle.o = 0;\n          this.currentSelected = null\n          this.circle.off = true\n        }\n\n        \n      } else{\n        // this.circle.off = true\n      }\n    }\n  \n});\n\n\n\n\n/***/ }),\n\n/***/ 122:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(118);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue2_touch__ = __webpack_require__(328);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\n\r\n// import Vuetify from 'vuetify'\r\n// Vue.use(Vuetify)\r\nvar dynamics = __webpack_require__(114)\r\n\r\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue2_touch__[\"a\" /* default */])\r\n\r\n\r\nfunction valBetween(v, min, max) {\r\n    return (Math.min(max, Math.max(min, v)));\r\n}\r\n\r\nfunction map_range(value, low1, high1, low2, high2) {\r\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n  name: 'sheet',\r\n  props: ['startingWidth'], // not working, see below\r\n  created: function created(){\r\n  \tvar windowWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\r\n\t\tthis.maxSheetWidth -= this.minSheetWidth\r\n    // this.dim.w = this.startingWidth // why dooes this cause problems?\r\n    this.dim.w = parseInt(windowWidth*0.666)\r\n  \r\n  },\r\n  methods: {\r\n  \tpan: function pan(type, callback){\r\n      // console.log(callback)\r\n  \t\tvar self = this\r\n  \t\tif(type == \"panstart\"){\r\n  \t\t\tthis.original_width =this.dim.w\r\n  \t\t\tthis.resizing = true\r\n  \t\t}\r\n  \t\tif(type == \"panend\"){\r\n  \t\t\t// console.log(callback.velocityX)\r\n  \t\t\tthis.resizing = false\r\n  \t\t\tvar resize = parseInt(this.dim.w + (callback.distance * (callback.velocityX*0.7)))\r\n  \t\t\tthis.maxSheetResize = Math.max(this.dim.w, this.original_width)\r\n  \t\t\tdynamics.animate(this.dim, {\r\n  \t\t\t  w: valBetween(resize, this.minSheetWidth, this.$refs.fullwidth.offsetWidth-100)\r\n  \t\t\t}, {\r\n  \t\t\t  type: dynamics.spring,\r\n  \t\t\t  duration: map_range(Math.abs(callback.velocityX), 0, 6, 1000, 100),\r\n  \t\t\t  frequency: 274,\r\n  \t\t\t  friction: 516,\r\n  \t\t\t  complete: function(){\r\n\t\t\t\t// self.$emit('resized')\r\n\t\t\t\t// console.log(callback)\r\n\t\t\t\t// console.log(self.maxSheetResize)\r\n\t\t\t\tif (callback.deltaX > 0 ){\r\n\t\t\t\t// if (callback.deltaX > 0 && self.dim.w > self.maxSheetResize){\r\n\t\t\t\t\tself.$emit('resized')\r\n          this.panDirection = 'panright'\r\n\t\t\t\t} else{\r\n          self.$emit('resized') // comment if no resize when panning left (but need another method for recentering element.)\r\n          this.panDirection = 'panleft'\r\n  \t\t\t  }\r\n        }\r\n  \t\t\t})\r\n  \t\t\t\r\n  \t\t}\r\n  \t\tif(type == \"panleft\"||\"panright\"){\r\n        // console.log(type)\r\n  \t\t\tthis.dim.w = this.original_width + callback.deltaX\r\n        this.panDirection = type\r\n  \t\t}\r\n  \t}\r\n  },\r\n  data: function data () {\r\n    return {\r\n    \tdim: {w: 600},\r\n    \toriginal_width: 200,\r\n    \tminSheetWidth: 100,\r\n    \tresizing: false,\r\n    \tmaxSheetResize: 0,\r\n      panDirection: null,\r\n    \tmaxSheetWidth: 1920\r\n    }\r\n  }\r\n});\r\n\n\n/***/ }),\n\n/***/ 123:\n/***/ (function(module, exports) {\n\nmodule.exports  = {\r\n    apiKey: \"AIzaSyArNJMh8OxNdVEN52aU516OPzQezyay-_w\",\r\n    authDomain: \"ahwr-e58a9.firebaseapp.com\",\r\n    databaseURL: \"https://ahwr-e58a9.firebaseio.com\",\r\n    projectId: \"ahwr-e58a9\",\r\n    storageBucket: \"ahwr-e58a9.appspot.com\",\r\n    messagingSenderId: \"702518506285\"\r\n}\n\n/***/ }),\n\n/***/ 124:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"db\", function() { return db; });\n// import Firebase from 'firebase'\r\nvar Firebase = __webpack_require__(115);\r\n__webpack_require__(312);\r\n\r\nvar config = __webpack_require__(123)\r\nvar fb = Firebase.initializeApp(config)\r\n\r\nvar db = fb.database() //this doesnt have to be database only\r\n\r\n// module.exports = 'Hello world';\n\n/***/ }),\n\n/***/ 306:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 307:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 322:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(306)\n\nvar Component = __webpack_require__(117)(\n  /* script */\n  __webpack_require__(121),\n  /* template */\n  __webpack_require__(324),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 323:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(307)\n\nvar Component = __webpack_require__(117)(\n  /* script */\n  __webpack_require__(122),\n  /* template */\n  __webpack_require__(325),\n  /* scopeId */\n  \"data-v-d9439390\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 324:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"app-container\",\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [(_vm.data) ? _c('transition-group', {\n    attrs: {\n      \"name\": \"slide\"\n    }\n  }, _vm._l((_vm.data), function(winery, key, index) {\n    return (winery.properties.id == _vm.currentSelected.properties.id) ? _c('div', {\n      key: key,\n      staticClass: \"information winery\",\n      attrs: {\n        \"id\": \"info-container\"\n      }\n    }, [_c('div', {\n      staticClass: \"winery-container\"\n    }, [_c('div', {\n      staticClass: \"winery-name\"\n    }, [_vm._v(_vm._s(winery.properties.name)), _c('span', {\n      staticClass: \"winery-region\"\n    }, [_vm._v(_vm._s(winery.properties.region))])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"winery-desc\"\n    }, [_vm._v(_vm._s(winery.properties.desc))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"winery-where\"\n    }, [_c('span', {\n      staticClass: \"label\"\n    }, [_vm._v(\"Where\")]), _vm._v(_vm._s(winery.properties.where)), _c('div', {\n      staticClass: \"winery-tel\"\n    }, [_c('span', {\n      staticClass: \"label\"\n    }, [_vm._v(\"T\")]), _vm._v(_vm._s(winery.properties.tel))])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"winery-open\"\n    }, [_c('span', {\n      staticClass: \"label\"\n    }, [_vm._v(\"Open\")]), _vm._v(_vm._s(winery.properties.open))]), _vm._v(\" \"), _c('a', {\n      staticClass: \"winery-website\",\n      attrs: {\n        \"target\": \"_blank\",\n        \"href\": \"http://\" + winery.properties.website\n      }\n    }, [_vm._v(_vm._s(winery.properties.website))])])]) : _vm._e()\n  })) : _vm._e(), _vm._v(\" \"), _c('v-container', {\n    class: ['controls', 'container', {\n      'active': _vm.sparklingSwitchVisible\n    }]\n  }, [_c('v-row', [_c('v-col', {\n    attrs: {\n      \"xs12\": \"\",\n      \"md12\": \"\"\n    }\n  }, [_c('v-card', {\n    staticClass: \"white elevation-7\",\n    staticStyle: {\n      \"border-radius\": \"30px\"\n    }\n  }, [_c('v-card-text', {\n    staticStyle: {\n      \"padding-top\": \"0px !important\"\n    }\n  }, [_c('v-switch', {\n    class: [\"switch\", {\n      \"active\": _vm.sparklingTrail\n    }],\n    attrs: {\n      \"label\": \"Sparkling Trail\",\n      \"primary\": \"\",\n      \"light\": \"\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.toggleSparklingSwitch()\n      }\n    },\n    model: {\n      value: (_vm.sparklingTrail),\n      callback: function($$v) {\n        _vm.sparklingTrail = $$v\n      },\n      expression: \"sparklingTrail\"\n    }\n  })], 1)], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('sheet', {\n    ref: \"sheet\",\n    staticClass: \"sheet\",\n    attrs: {\n      \"startingWidth\": \"800\"\n    },\n    on: {\n      \"resized\": _vm.resizedSheet\n    }\n  }, [_c('mapbox', {\n    ref: \"map\",\n    attrs: {\n      \"access-token\": \"pk.eyJ1IjoiZWRhbndlaXMiLCJhIjoiY2lmMTVtdWQ0MDRsOHNkbTV2OXd3cDNwNiJ9.MxWj73wGNEvrPSjsh6TJjw\",\n      \"map-options\": {\n        style: \"mapbox://styles/edanweis/cj2iddj93001k2rph61u9lw6f\",\n        maxBounds: [\n          [138.1381, -35.5400],\n          [139.7050, -34.4558]\n        ],\n        center: [138.7333, -34.9141],\n        zoom: 13,\n        hash: true,\n\n      },\n      \"navControl\": {\n        show: false\n      },\n      \"geolocate-control\": {\n        show: false,\n        position: \"top-left\"\n      }\n    },\n    on: {\n      \"map-resize\": _vm.mapResized,\n      \"map-movestart\": _vm.mapMoveStart,\n      \"map-move\": _vm.mapMoving,\n      \"map-click\": _vm.mapClicked,\n      \"map-mousemove\": _vm.mapMouseMoved,\n      \"map-load\": _vm.mapLoaded,\n      \"map-zoom\": _vm.mapZooming,\n      \"map-moveend\": _vm.mapMoveEnd,\n      \"map-dataloading\": _vm.dataLoading\n    }\n  }), _vm._v(\" \"), _c('div', {\n    class: [\"circle\", {\n      \"off\": _vm.circle.off == true ? true : false\n    }, {\n      \"active\": _vm.circle.o == 1 ? true : false\n    }, {\n      \"inactive\": _vm.circle.o == 0 ? true : false\n    }],\n    style: ({\n      \"transform\": \"translateX(\" + _vm.circle.x + \"px) translateY(\" + _vm.circle.y + \"px)\",\n      \"width\": _vm.circle.r * 2 + \"px\",\n      \"height\": _vm.circle.r * 2 + \"px\"\n    })\n  }), _vm._v(\" \"), _c('div', {\n    class: [\"multiply\", \"circle\", {\n      \"off\": _vm.circle.off == true ? true : false\n    }, {\n      \"active\": _vm.circle.o == 1 ? true : false\n    }, {\n      \"inactive\": _vm.circle.o == 0 ? true : false\n    }],\n    style: ({\n      \"transform\": \"translateX(\" + _vm.circle.x + \"px) translateY(\" + _vm.circle.y + \"px)\",\n      \"width\": _vm.circle.r * 2 + \"px\",\n      \"height\": _vm.circle.r * 2 + \"px\"\n    })\n  })], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 325:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    class: ['elevation-5', {\n      'elevation-20': _vm.resizing ? true : false\n    }],\n    style: ({\n      width: _vm.dim.w + \"px\",\n      minWidth: _vm.dim.w + \"px\"\n    }),\n    attrs: {\n      \"id\": \"sheet-container\"\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"touch\",\n      rawName: \"v-touch:pan\",\n      value: (_vm.pan),\n      expression: \"pan\",\n      arg: \"pan\"\n    }],\n    staticClass: \"resize-handler\"\n  }), _vm._v(\" \"), _c('div', {\n    ref: \"fullwidth\",\n    attrs: {\n      \"id\": \"fullwidth\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"arrow noselect\"\n  }), _vm._v(\" \"), _c('div', {\n    class: ['icon', 'noselect', {\n      'panleft': _vm.panDirection == 'panleft' ? true : false\n    }]\n  }, [_vm._v(\"keyboard_arrow_right\")]), _vm._v(\" \"), _vm._t(\"default\")], 2)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 330:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(119);\nmodule.exports = __webpack_require__(120);\n\n\n/***/ })\n\n},[330]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.87629cf4cf8a066fe7f0.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\n// import store from './store'\n// import Vuex from 'vuex';\n// require('babel-polyfill')\n// Vue.use(Vuex)\n\n// import VueFire from 'vuefire'\n// Vue.use(VueFire) \n\n// export const store = new Vuex.Store({\n//   state: {\n//     winerySelected: [],\n//   },\n//   getters: {\n//     getWinerySelected: function(state){\n//       return state.winerySelected\n//     }\n//   },\n//   mutations: {\n//     addSelectedWinery: function(state, winery){\n//       state.winerySelected.push(winery)\n//     } \n//   }\n// })\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  // store: store,\n  template: '<App/>',\n  components: { App }\n})\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Mapbox from 'mapbox-gl-vue'\n\n// import { mapMutations, mapGetters } from 'vuex'\n// import Vuetify from 'vuetify'\n// Vue.use(Vuetify)\nimport Sheet from './components/Sheet'\nvar dynamics = require('dynamics.js')\n\nvar geodist = require('geodist')\nvar _=require('lodash')\n// require('./stylus/main.styl')\n\nvar db = require('./firebase-db.js')\nvar dataRef = db.db.ref('data')\n\n\nfunction map_range(value, low1, high1, low2, high2) {\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}\n\nfunction onlyUnique(value, index, self) { \n    return self.indexOf(value) === index;\n}\n\nexport default {\n  name: 'app',\n  // firebase: {\n  //   // data: dataRef // this is done manually below due to VueFire not returning native arrays?\n  // },\n  components: {\n    Mapbox,\n    Sheet\n  },\n  data () {\n    return {\n      fake: false,\n      dataReady: false,\n      mapReady: false,\n      data: [],\n      map: null,\n      sparklingTrailLayer: null,\n      sparklingTrail: false,\n      // filters: {\n      //   sparkling: [\"in\", \"name\", \"Bird in Hand\", \"Deviation Road\", \"Golding\", \"Howard\", \"Longview\", \"Petaluma\", \"O'leary Walker\", \"Mt Lofty Range\", \"Sidewood\", \"Tapanappa\", \"The Lane\"],\n      // },\n      currentSelected: [],\n      sparklingSwitchVisible: false,\n      randomNum: 2,\n      moveCircleActive: true,\n      circle:{\n        x: 0,\n        y: 0,\n        o: 0,\n        r: 50,\n        off: true\n      }\n    }\n  },\n  watch: {\n      dataReady: function (dataReady) {\n        console.log('dataReady?', dataReady)\n        if(dataReady && this.mapReady){\n          this.loadData()\n\n        }\n      },\n      mapReady: function (mapReady) {\n        console.log('mapReady?', mapReady)\n        if(this.dataReady && mapReady){\n          this.loadData()\n        }\n      }\n    },mounted(){\n    var self = this\n    console.log('Fetching Firebase data...')\n    dataRef.once('value').then(function(snapshot) {\n      console.log(String(snapshot.val().length), \"wineries successfully downloaded from firebase\" )\n      let data = []\n      for (var i = snapshot.val().length - 1; i >= 0; i--) {\n        self.data.push(snapshot.val()[i])\n        data.push(snapshot.val()[i])\n      }\n      return data\n    }).then(function(data){\n        self.dataReady = true\n        // self.loadData(data)\n        // self.moveCircle()\n    })\n  },\n  \n  methods:{\n    \n    // ...mapMutations([\n    //   'addSelectedWinery'\n    //   ]),\n    resizedSheet: function(){\n      // triggers the map.resize() event of mapbox, because we can't (?) select the DOM map element, unless using #ref=\"blah\"?\n      window.dispatchEvent(new Event('resize'));\n    },\n\n    toggleSparklingSwitch(e){\n      var f = []\n      for (var i = this.data.length - 1; i >= 0; i--) {\n        if (this.data[i].properties.trails.includes(\"sparkling\")){\n          f.push(this.data[i].properties.id)\n        }\n      }\n      //prepend the first two filter commands to array\n      f.unshift(\"in\", \"id\")\n\n      this.sparklingSwitchVisible = true//!this.sparklingSwitchVisible\n      this.circle.o = 0;\n      if (this.sparklingTrail){\n        this.map.setFilter('wineries', f)\n        this.map.setFilter('triangles', f)\n      } else{\n        this.map.setFilter('wineries', null);\n        this.map.setFilter('triangles', null);  \n      }\n    },\n    getRandomNum(){\n      var r = Math.floor(Math.random()*(140-7+1)+7);\n      this.randomNum = r\n      return r\n    },\n    mapResized(){\n      // console.log('resized')\n    },\n\n\n    mapClicked(map, e) {\n          console.log(e)\n          // const features = map.queryRenderedFeatures(e.point, {\n          //     layers: ['triangles', 'wineries']\n          // });        \n          // var self = this\n          // if (features[0]){\n          //  map.flyTo({\n          //   center: features[0].geometry.coordinates,\n          //   zoom: self.flytoZoom(self.map),\n          //   bearing: self.easeBearing(map),\n          // });\n\n          // this.randomNum = this.getRandomNum()\n        }\n      \n\n    },\n\n    easeBearing(map){\n      if(map.getBearing() > 0){\n        return -5\n      } else {\n        return 5\n      }\n    },\n\n    flytoZoom(map){\n      // var z =[-0.5, 0.5]\n      return this.map.getZoom() + 0.5 // z[Math.floor(Math.random()*z.length)];\n\n    },\n    mapMouseMoved(map, e) {\n      if(map.isSourceLoaded('winery-label')){\n        const features = map.queryRenderedFeatures(e.point, {\n            layers: ['wineries', 'triangles']\n        });\n        map.getCanvas().style.cursor = (features.length) ? 'pointer' : '';\n      }\n    },\n\n    mapMoveStart(e, map){\n      this.circle.o = 0;\n      this.sparklingSwitchVisible = false\n    },\n\n    mapMoveEnd(e){\n      this.circle.o = 1;\n      var self = this;\n      // setTimeout(function() {this.moveCircle(self.e)}, 500);\n      // console.log(this.currentSelected)\n      this.moveCircleActive = false;\n      this.currentSelected = this.nearest\n      // console.log(this.currentSelected)\n      this.randomNum = this.getRandomNum()\n\n      this.moveCircle(e)\n      this.zoomCircle(e)\n    },\n\n    mapMoving(e){\n        this.moveCircle(e, map)  \n      if(this.moveCircleActive){\n      }\n      // console.log('moving')\n      \n    },\n    mapLoaded(e){\n      this.map = e\n      this.mapReady = true\n      var self = this\n      // var r = []\n      // console.log(this.data)     \n    },\n\n    dataLoading(e){\n      // console.log('loading data')\n    },\n\n    loadData(){\n      console.log('loading data...')\n\n      this.map.addSource('winery-label', {\n          'type': 'geojson',\n          'data': {\n            'type': 'FeatureCollection',\n            'features': this.data\n          }\n      })\n\n      this.map.addLayer({\n        \"id\": \"wineries\",\n        \"type\": \"symbol\",\n        \"source\": \"winery-label\",\n        \"filter\": [\n            \"==\",\n            \"$type\",\n            \"Point\"\n        ],\n        \"layout\": {\n            \"text-line-height\": 1,\n            \"text-size\": {\n                \"base\": 1.3,\n                \"stops\": [\n                    [\n                        4,\n                        6\n                    ],\n                    [\n                        14,\n                        23\n                    ]\n                ]\n            },\n            \"text-allow-overlap\": true,\n            \"text-font\": [\n                \"Roboto Medium\",\n                \"Arial Unicode MS Regular\"\n            ],\n            \"text-justify\": \"left\",\n            \"visibility\": \"visible\",\n            \"text-offset\": [\n                1,\n                0.1\n            ],\n            \"text-anchor\": \"left\",\n            \"text-field\": \"{label}\",\n            \"text-max-width\": 15\n        },\n        \"paint\": {\n            \"text-color\": \"#65132C\"\n        }\n      })\n\n      this.map.addLayer({\n        \"id\": \"triangles\",\n        \"type\": \"symbol\",\n        \"source\": \"winery-label\",\n        \"filter\": [\n            \"==\",\n            \"$type\",\n            \"Point\"\n        ],\n        \"layout\": {\n            \"text-size\": {\n                \"base\": 1,\n                \"stops\": [\n                    [\n                        8,\n                        14\n                    ],\n                    [\n                        14,\n                        15\n                    ]\n                ]\n            },\n            \"text-font\": [\n                \"Knockout 29 Junior Liteweight\"\n            ],\n            \"visibility\": \"visible\",\n            \"icon-size\": {\n                \"base\": 0.8,\n                \"stops\": [\n                    [\n                        8,\n                        0.1\n                    ],\n                    [\n                        15,\n                        1.1\n                    ]\n                ]\n            },\n            \"text-offset\": [\n                0,\n                -0.2\n            ],\n            \"icon-image\": \"triangle\",\n            \"icon-allow-overlap\": true\n        },\n        \"paint\": {\n            \"text-color\": \"hsl(0, 0%, 100%)\",\n            \"icon-opacity\": 0.7\n        }\n      })\n\n      console.log('data loaded')\n      this.zoomCircle(this.map)\n      this.moveCircle(this.map)\n      var elem = this.$refs.map.$el; // Element to fire on\n      \n\n      // var evt = new MouseEvent(\"click\", {\n      //   bubbles: true,\n      //   cancelable: true,\n      //   view: window\n      // });\n      // console.log(elem)\n      // elem.querySelector(\"canvas\").addEventListener('click', function(){\n      //   console.log('clicekd!')\n      // })\n\n      // elem.dispatchEvent(evt);\n      // elem.querySelector(\"canvas\").click({X:0, clientY:0}); // Fire event\n    },\n\n\n    zoomCircle: function(e){\n      if (this.map.getZoom() < 9){\n        this.circle.r = 0  \n      } else{\n        this.circle.r = map_range(this.map.getZoom(), 15, 9, 50, 15 )  \n      }\n    },\n    mapZooming(e){\n      this.zoomCircle(e)\n      \n    },\n\n    moveCircle: function(e){\n      // var e = e ? e : this.map\n      if(e.isSourceLoaded('winery-label')){\n        console.log('source is loaded')\n        var features = e.queryRenderedFeatures({ layers: ['triangles']})\n        // console.log(features.length)\n        if(features.length > 0){\n          this.circle.off = false\n          var f = _.uniqBy(features, 'properties.id');\n          var nearest = null\n          var centerLat = e.getCenter().lat\n          var centerLng = e.getCenter().lng\n          var dist = 999999999999\n          for (var i = f.length - 1; i >= 0; i--) {\n              var newDist = geodist([centerLat, centerLng], [f[i].geometry.coordinates[1], f[i].geometry.coordinates[0]], {format: false, unit: 'meters'})\n              \n              if(!nearest){\n                nearest = f[i]\n              }\n              if( newDist < dist){\n                nearest = f[i]\n                dist = newDist\n              }\n          }\n          \n          var nearest_screen_coordinates = e.project([nearest.geometry.coordinates[0], nearest.geometry.coordinates[1]])\n\n        var nx = parseInt(nearest_screen_coordinates.x - this.circle.r*1.02)\n        var ny = parseInt(nearest_screen_coordinates.y - this.circle.r*1.02)\n\n        this.circle.x = nx\n        this.circle.y = ny\n        if(this.moveCircleActive){\n          console.log('moving circle')\n          this.circle.o = 1;  \n        }\n\n        if(nearest !== this.currentSelected){\n          this.nearest = nearest\n        }\n        } else{\n          // console.log(\"circle be gone\")\n          this.circle.o = 0;\n          this.currentSelected = null\n          this.circle.off = true\n        }\n\n        \n      } else{\n        // this.circle.off = true\n      }\n    }\n  \n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/App.vue","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport Vue from 'vue'\r\n// import Vuetify from 'vuetify'\r\n// Vue.use(Vuetify)\r\nvar dynamics = require('dynamics.js')\r\nimport Vue2Touch from 'vue2-touch'\r\nVue.use(Vue2Touch)\r\n\r\n\r\nfunction valBetween(v, min, max) {\r\n    return (Math.min(max, Math.max(min, v)));\r\n}\r\n\r\nfunction map_range(value, low1, high1, low2, high2) {\r\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\r\n}\r\n\r\nexport default {\r\n  name: 'sheet',\r\n  props: ['startingWidth'], // not working, see below\r\n  created(){\r\n  \tvar windowWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\r\n\t\tthis.maxSheetWidth -= this.minSheetWidth\r\n    // this.dim.w = this.startingWidth // why dooes this cause problems?\r\n    this.dim.w = parseInt(windowWidth*0.666)\r\n  \r\n  },\r\n  methods: {\r\n  \tpan(type, callback){\r\n      // console.log(callback)\r\n  \t\tvar self = this\r\n  \t\tif(type == \"panstart\"){\r\n  \t\t\tthis.original_width =this.dim.w\r\n  \t\t\tthis.resizing = true\r\n  \t\t}\r\n  \t\tif(type == \"panend\"){\r\n  \t\t\t// console.log(callback.velocityX)\r\n  \t\t\tthis.resizing = false\r\n  \t\t\tvar resize = parseInt(this.dim.w + (callback.distance * (callback.velocityX*0.7)))\r\n  \t\t\tthis.maxSheetResize = Math.max(this.dim.w, this.original_width)\r\n  \t\t\tdynamics.animate(this.dim, {\r\n  \t\t\t  w: valBetween(resize, this.minSheetWidth, this.$refs.fullwidth.offsetWidth-100)\r\n  \t\t\t}, {\r\n  \t\t\t  type: dynamics.spring,\r\n  \t\t\t  duration: map_range(Math.abs(callback.velocityX), 0, 6, 1000, 100),\r\n  \t\t\t  frequency: 274,\r\n  \t\t\t  friction: 516,\r\n  \t\t\t  complete: function(){\r\n\t\t\t\t// self.$emit('resized')\r\n\t\t\t\t// console.log(callback)\r\n\t\t\t\t// console.log(self.maxSheetResize)\r\n\t\t\t\tif (callback.deltaX > 0 ){\r\n\t\t\t\t// if (callback.deltaX > 0 && self.dim.w > self.maxSheetResize){\r\n\t\t\t\t\tself.$emit('resized')\r\n          this.panDirection = 'panright'\r\n\t\t\t\t} else{\r\n          self.$emit('resized') // comment if no resize when panning left (but need another method for recentering element.)\r\n          this.panDirection = 'panleft'\r\n  \t\t\t  }\r\n        }\r\n  \t\t\t})\r\n  \t\t\t\r\n  \t\t}\r\n  \t\tif(type == \"panleft\"||\"panright\"){\r\n        // console.log(type)\r\n  \t\t\tthis.dim.w = this.original_width + callback.deltaX\r\n        this.panDirection = type\r\n  \t\t}\r\n  \t}\r\n  },\r\n  data () {\r\n    return {\r\n    \tdim: {w: 600},\r\n    \toriginal_width: 200,\r\n    \tminSheetWidth: 100,\r\n    \tresizing: false,\r\n    \tmaxSheetResize: 0,\r\n      panDirection: null,\r\n    \tmaxSheetWidth: 1920\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Sheet.vue","module.exports  = {\r\n    apiKey: \"AIzaSyArNJMh8OxNdVEN52aU516OPzQezyay-_w\",\r\n    authDomain: \"ahwr-e58a9.firebaseapp.com\",\r\n    databaseURL: \"https://ahwr-e58a9.firebaseio.com\",\r\n    projectId: \"ahwr-e58a9\",\r\n    storageBucket: \"ahwr-e58a9.appspot.com\",\r\n    messagingSenderId: \"702518506285\"\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/firebase-config.js","// import Firebase from 'firebase'\r\nvar Firebase = require('firebase/app');\r\nrequire('firebase/database');\r\n\r\nvar config = require('./firebase-config.js')\r\nvar fb = Firebase.initializeApp(config)\r\n\r\nexport const db = fb.database() //this doesnt have to be database only\r\n\r\n// module.exports = 'Hello world';\n\n\n// WEBPACK FOOTER //\n// ./src/firebase-db.js","\n/* styles */\nrequire(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-7d5b503f\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!buble-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7d5b503f\\\"}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 322\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-d9439390\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Sheet.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!buble-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Sheet.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d9439390\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Sheet.vue\"),\n  /* scopeId */\n  \"data-v-d9439390\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Sheet.vue\n// module id = 323\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"app-container\",\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [(_vm.data) ? _c('transition-group', {\n    attrs: {\n      \"name\": \"slide\"\n    }\n  }, _vm._l((_vm.data), function(winery, key, index) {\n    return (winery.properties.id == _vm.currentSelected.properties.id) ? _c('div', {\n      key: key,\n      staticClass: \"information winery\",\n      attrs: {\n        \"id\": \"info-container\"\n      }\n    }, [_c('div', {\n      staticClass: \"winery-container\"\n    }, [_c('div', {\n      staticClass: \"winery-name\"\n    }, [_vm._v(_vm._s(winery.properties.name)), _c('span', {\n      staticClass: \"winery-region\"\n    }, [_vm._v(_vm._s(winery.properties.region))])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"winery-desc\"\n    }, [_vm._v(_vm._s(winery.properties.desc))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"winery-where\"\n    }, [_c('span', {\n      staticClass: \"label\"\n    }, [_vm._v(\"Where\")]), _vm._v(_vm._s(winery.properties.where)), _c('div', {\n      staticClass: \"winery-tel\"\n    }, [_c('span', {\n      staticClass: \"label\"\n    }, [_vm._v(\"T\")]), _vm._v(_vm._s(winery.properties.tel))])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"winery-open\"\n    }, [_c('span', {\n      staticClass: \"label\"\n    }, [_vm._v(\"Open\")]), _vm._v(_vm._s(winery.properties.open))]), _vm._v(\" \"), _c('a', {\n      staticClass: \"winery-website\",\n      attrs: {\n        \"target\": \"_blank\",\n        \"href\": \"http://\" + winery.properties.website\n      }\n    }, [_vm._v(_vm._s(winery.properties.website))])])]) : _vm._e()\n  })) : _vm._e(), _vm._v(\" \"), _c('v-container', {\n    class: ['controls', 'container', {\n      'active': _vm.sparklingSwitchVisible\n    }]\n  }, [_c('v-row', [_c('v-col', {\n    attrs: {\n      \"xs12\": \"\",\n      \"md12\": \"\"\n    }\n  }, [_c('v-card', {\n    staticClass: \"white elevation-7\",\n    staticStyle: {\n      \"border-radius\": \"30px\"\n    }\n  }, [_c('v-card-text', {\n    staticStyle: {\n      \"padding-top\": \"0px !important\"\n    }\n  }, [_c('v-switch', {\n    class: [\"switch\", {\n      \"active\": _vm.sparklingTrail\n    }],\n    attrs: {\n      \"label\": \"Sparkling Trail\",\n      \"primary\": \"\",\n      \"light\": \"\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.toggleSparklingSwitch()\n      }\n    },\n    model: {\n      value: (_vm.sparklingTrail),\n      callback: function($$v) {\n        _vm.sparklingTrail = $$v\n      },\n      expression: \"sparklingTrail\"\n    }\n  })], 1)], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('sheet', {\n    ref: \"sheet\",\n    staticClass: \"sheet\",\n    attrs: {\n      \"startingWidth\": \"800\"\n    },\n    on: {\n      \"resized\": _vm.resizedSheet\n    }\n  }, [_c('mapbox', {\n    ref: \"map\",\n    attrs: {\n      \"access-token\": \"pk.eyJ1IjoiZWRhbndlaXMiLCJhIjoiY2lmMTVtdWQ0MDRsOHNkbTV2OXd3cDNwNiJ9.MxWj73wGNEvrPSjsh6TJjw\",\n      \"map-options\": {\n        style: \"mapbox://styles/edanweis/cj2iddj93001k2rph61u9lw6f\",\n        maxBounds: [\n          [138.1381, -35.5400],\n          [139.7050, -34.4558]\n        ],\n        center: [138.7333, -34.9141],\n        zoom: 13,\n        hash: true,\n\n      },\n      \"navControl\": {\n        show: false\n      },\n      \"geolocate-control\": {\n        show: false,\n        position: \"top-left\"\n      }\n    },\n    on: {\n      \"map-resize\": _vm.mapResized,\n      \"map-movestart\": _vm.mapMoveStart,\n      \"map-move\": _vm.mapMoving,\n      \"map-click\": _vm.mapClicked,\n      \"map-mousemove\": _vm.mapMouseMoved,\n      \"map-load\": _vm.mapLoaded,\n      \"map-zoom\": _vm.mapZooming,\n      \"map-moveend\": _vm.mapMoveEnd,\n      \"map-dataloading\": _vm.dataLoading\n    }\n  }), _vm._v(\" \"), _c('div', {\n    class: [\"circle\", {\n      \"off\": _vm.circle.off == true ? true : false\n    }, {\n      \"active\": _vm.circle.o == 1 ? true : false\n    }, {\n      \"inactive\": _vm.circle.o == 0 ? true : false\n    }],\n    style: ({\n      \"transform\": \"translateX(\" + _vm.circle.x + \"px) translateY(\" + _vm.circle.y + \"px)\",\n      \"width\": _vm.circle.r * 2 + \"px\",\n      \"height\": _vm.circle.r * 2 + \"px\"\n    })\n  }), _vm._v(\" \"), _c('div', {\n    class: [\"multiply\", \"circle\", {\n      \"off\": _vm.circle.off == true ? true : false\n    }, {\n      \"active\": _vm.circle.o == 1 ? true : false\n    }, {\n      \"inactive\": _vm.circle.o == 0 ? true : false\n    }],\n    style: ({\n      \"transform\": \"translateX(\" + _vm.circle.x + \"px) translateY(\" + _vm.circle.y + \"px)\",\n      \"width\": _vm.circle.r * 2 + \"px\",\n      \"height\": _vm.circle.r * 2 + \"px\"\n    })\n  })], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-7d5b503f\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 324\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    class: ['elevation-5', {\n      'elevation-20': _vm.resizing ? true : false\n    }],\n    style: ({\n      width: _vm.dim.w + \"px\",\n      minWidth: _vm.dim.w + \"px\"\n    }),\n    attrs: {\n      \"id\": \"sheet-container\"\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"touch\",\n      rawName: \"v-touch:pan\",\n      value: (_vm.pan),\n      expression: \"pan\",\n      arg: \"pan\"\n    }],\n    staticClass: \"resize-handler\"\n  }), _vm._v(\" \"), _c('div', {\n    ref: \"fullwidth\",\n    attrs: {\n      \"id\": \"fullwidth\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"arrow noselect\"\n  }), _vm._v(\" \"), _c('div', {\n    class: ['icon', 'noselect', {\n      'panleft': _vm.panDirection == 'panleft' ? true : false\n    }]\n  }, [_vm._v(\"keyboard_arrow_right\")]), _vm._v(\" \"), _vm._t(\"default\")], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-d9439390\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Sheet.vue\n// module id = 325\n// module chunks = 1"],"sourceRoot":""}